# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ: AI Telegram Bot Dashboard - Frontend

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-17  
**–°—Ç–∞—Ç—É—Å**: –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ

---

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –ù–∞–∑–≤–∞–Ω–∏–µ
**AI Telegram Bot Dashboard - Frontend**

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤ AI Telegram-–±–æ—Ç–∞. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫, –≥—Ä–∞—Ñ–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –∏ —Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –±–æ—Ç–∞
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º (–¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–≥—Ä–∞—Ñ–∏–∫–∏)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤
- –†–µ–π—Ç–∏–Ω–≥ –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Responsive design –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|------------|--------|-------------|
| **Framework** | Next.js (App Router) | 14+ | SSR/SSG –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, file-based routing, Image optimization |
| **–Ø–∑—ã–∫** | TypeScript | 5+ | –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞, –ª—É—á—à–∏–π DX —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º |
| **UI Library** | shadcn/ui | latest | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –±–∞–∑–µ Radix UI, –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è, accessibility –∏–∑ –∫–æ—Ä–æ–±–∫–∏ |
| **Styling** | Tailwind CSS | 3+ | Utility-first CSS, –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π bundle size, dark mode |
| **–ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä** | npm | 8+ | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Windows, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Node.js |

**–ü–æ—á–µ–º—É npm, –∞ –Ω–µ pnpm/yarn?**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Windows PowerShell
- –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Node.js –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å pre-commit hooks
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ CI/CD

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|------------|------------|-------------|
| **State Management** | Zustand | –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (< 1KB), –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π API, TypeScript-friendly, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è shared state |
| **Data Fetching** | TanStack Query (React Query) | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, auto-refetch, optimistic updates, retry –º–µ—Ö–∞–Ω–∏–∑–º |
| **–ì—Ä–∞—Ñ–∏–∫–∏** | Recharts | –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π API, —Ö–æ—Ä–æ—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React, responsive charts |
| **HTTP Client** | axios | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ JSON, interceptors, timeout support |
| **–§–æ—Ä–º–∞—Ç—Ç–µ—Ä** | Prettier | –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞, –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **–õ–∏–Ω—Ç–µ—Ä** | ESLint + TypeScript ESLint | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, TypeScript rules |
| **Testing** | Vitest + Testing Library | –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Jest API, native ESM support |

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js**: >= 18.17.0 (LTS —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **npm**: >= 8.0.0
- **–ë—Ä–∞—É–∑–µ—Ä—ã**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. Component Composition over Inheritance
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –°–æ–∑–¥–∞–µ–º –Ω–µ–±–æ–ª—å—à–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö UI

### 2. Separation of Concerns
- **UI —Å–ª–æ–π**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **Logic —Å–ª–æ–π**: Custom hooks –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **Data —Å–ª–æ–π**: API client –∏ React Query –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### 3. DRY (Don't Repeat Yourself)
- –ò–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- –í—ã–Ω–æ—Å–∏–º –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É –≤ —É—Ç–∏–ª–∏—Ç—ã –∏ hooks
- –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—É—é –∫–æ–º–ø–æ–∑–∏—Ü–∏—é

### 4. KISS (Keep It Simple, Stupid)
- –ü—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω—ã—Ö
- –ú–∏–Ω–∏–º—É–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- –ü–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥ —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞

### 5. Single Responsibility Principle
- –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞
- –û–¥–∏–Ω hook = –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è
- –ú–∞–ª–µ–Ω—å–∫–∏–µ, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### 6. Accessibility First (WCAG 2.1 AA)
- Semantic HTML
- ARIA attributes
- Keyboard navigation
- Screen reader support
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç

### 7. Mobile-First Responsive Design
- –î–∏–∑–∞–π–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- Progressive enhancement –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
- Touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### 8. Performance-Driven Development
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size
- Code splitting
- Image optimization
- Lazy loading
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
frontend/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx               # Root layout (Header/Footer)
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                 # Dashboard (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îÇ   ‚îú‚îÄ‚îÄ globals.css              # Global styles + Tailwind imports
‚îÇ   ‚îú‚îÄ‚îÄ providers.tsx            # React Query Provider
‚îÇ   ‚îî‚îÄ‚îÄ api/                     # API routes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ–∏—á)
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/                      # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tabs.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ badge.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skeleton.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toast.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dialog.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ layout/                  # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx           # –í–µ—Ä—Ö–Ω–∏–π header —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx           # Footer —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx          # –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/               # Dashboard-specific –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PeriodFilter.tsx    # –§–∏–ª—å—Ç—Ä –ø–µ—Ä–∏–æ–¥–∞ (day/week/month)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SummaryCards.tsx    # –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActivityChart.tsx   # –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (line chart)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RecentDialogsTable.tsx  # –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TopUsersTable.tsx   # –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ common/                  # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ LoadingSpinner.tsx
‚îÇ       ‚îú‚îÄ‚îÄ ErrorMessage.tsx
‚îÇ       ‚îî‚îÄ‚îÄ EmptyState.tsx
‚îÇ
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts                 # –£—Ç–∏–ª–∏—Ç—ã (cn function, formatters)
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                   # API client (axios)
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts             # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ hooks/                   # Custom React hooks
‚îÇ       ‚îú‚îÄ‚îÄ useStats.ts          # Hook –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ usePeriod.ts         # Hook –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–º
‚îÇ
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ index.d.ts               # Global type definitions
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                   # API types (StatsResponse, Period, etc)
‚îÇ   ‚îî‚îÄ‚îÄ components.ts            # Component prop types
‚îÇ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ site.ts                  # Site configuration (–Ω–∞–∑–≤–∞–Ω–∏–µ, URL)
‚îÇ   ‚îî‚îÄ‚îÄ api.ts                   # API configuration (baseURL, endpoints)
‚îÇ
‚îú‚îÄ‚îÄ public/                      # Static files
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ icons/
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/                    # Unit tests
‚îÇ   ‚îú‚îÄ‚îÄ integration/             # Integration tests
‚îÇ   ‚îî‚îÄ‚îÄ setup.ts                 # Test setup
‚îÇ
‚îú‚îÄ‚îÄ .eslintrc.json               # ESLint configuration
‚îú‚îÄ‚îÄ .prettierrc                  # Prettier configuration
‚îú‚îÄ‚îÄ .gitignore                   # Git ignore rules
‚îú‚îÄ‚îÄ tsconfig.json                # TypeScript configuration (strict)
‚îú‚îÄ‚îÄ next.config.js               # Next.js configuration
‚îú‚îÄ‚îÄ tailwind.config.ts           # Tailwind CSS configuration
‚îú‚îÄ‚îÄ components.json              # shadcn/ui configuration
‚îú‚îÄ‚îÄ vitest.config.ts             # Vitest configuration
‚îú‚îÄ‚îÄ package.json                 # Dependencies –∏ scripts (npm)
‚îú‚îÄ‚îÄ package-lock.json            # npm lock file
‚îú‚îÄ‚îÄ .env.local                   # Environment variables (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îú‚îÄ‚îÄ .env.local.example           # Example environment variables
‚îî‚îÄ‚îÄ README.md                    # Frontend README
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

1. **–ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –∏–∑–±–µ–≥–∞–µ–º –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
2. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
3. **–ö–æ–ª–ª–æ–∫–∞—Ü–∏—è** - —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä—è–¥–æ–º –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
4. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** - UI, Logic, Data –≤ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö

---

## üó∫Ô∏è –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Routing Structure

| –ü—É—Ç—å | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|-----------|----------|--------|
| `/` | `app/page.tsx` | Dashboard —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –¥–∏–∞–ª–æ–≥–æ–≤ | MVP |
| `/chat` | `app/chat/page.tsx` | AI Chat –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (text-to-SQL) | –°–ø—Ä–∏–Ω—Ç S6 |
| `/settings` | `app/settings/page.tsx` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ë—É–¥—É—â–µ–µ |

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: Dashboard (`/`)

**–¶–µ–ª—å**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
1. **PeriodFilter** - –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (day/week/month)
2. **SummaryCards** - 3 –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
3. **ActivityChart** - line chart —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
4. **RecentDialogsTable** - —Ç–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10-15 –¥–∏–∞–ª–æ–≥–æ–≤
5. **TopUsersTable** - —Ç–æ–ø 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**Data Flow**:
- –ü–µ—Ä–∏–æ–¥ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ PeriodFilter
- useStats hook –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ React Query
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–µ—Ä–∏–æ–¥–∞
- Auto-refetch –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Layout Components (`components/layout/`)

#### Header.tsx
```typescript
interface HeaderProps {
  // –ü—Ä–æ–ø—Å—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
}

export function Header(): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–µ—Ä—Ö–Ω–∏–π header —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

**–°–æ—Å—Ç–∞–≤**:
- –õ–æ–≥–æ—Ç–∏–ø/–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é (–¥–ª—è –±—É–¥—É—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
- Theme toggle (dark/light mode)

---

#### Footer.tsx
```typescript
interface FooterProps {
  // –ü—Ä–æ–ø—Å—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
}

export function Footer(): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Footer —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

**–°–æ—Å—Ç–∞–≤**:
- Copyright –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

#### Sidebar.tsx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```typescript
interface SidebarProps {
  // –ü—Ä–æ–ø—Å—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
}

export function Sidebar(): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏

---

### Dashboard Components (`components/dashboard/`)

#### PeriodFilter.tsx
```typescript
interface PeriodFilterProps {
  period: Period
  onPeriodChange: (period: Period) => void
}

export function PeriodFilter({ period, onPeriodChange }: PeriodFilterProps): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**UI**: Button group —Å —Ç—Ä–µ–º—è –∫–Ω–æ–ø–∫–∞–º–∏ (Day, Week, Month)

---

#### SummaryCards.tsx
```typescript
interface SummaryCardsProps {
  summary: Summary
  isLoading?: boolean
}

export function SummaryCards({ summary, isLoading }: SummaryCardsProps): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: 3 –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ (Total Users, Total Messages, Active Dialogs)

**UI**: Grid –∏–∑ 3 Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —á–∏—Å–ª–∞–º–∏

---

#### ActivityChart.tsx
```typescript
interface ActivityChartProps {
  data: ActivityPoint[]
  isLoading?: boolean
}

export function ActivityChart({ data, isLoading }: ActivityChartProps): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Line chart —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: Recharts

**UI**: –î–≤–æ–π–Ω–∞—è –ª–∏–Ω–∏—è (—Å–æ–æ–±—â–µ–Ω–∏—è + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

---

#### RecentDialogsTable.tsx
```typescript
interface RecentDialogsTableProps {
  dialogs: RecentDialog[]
  isLoading?: boolean
}

export function RecentDialogsTable({ dialogs, isLoading }: RecentDialogsTableProps): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤

**–ö–æ–ª–æ–Ω–∫–∏**: User ID, Messages, Last Activity, Duration

---

#### TopUsersTable.tsx
```typescript
interface TopUsersTableProps {
  users: TopUser[]
  isLoading?: boolean
}

export function TopUsersTable({ users, isLoading }: TopUsersTableProps): JSX.Element
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ö–æ–ª–æ–Ω–∫–∏**: Rank, User ID, Total Messages, Dialog Count, Last Activity

---

### UI Components (`components/ui/`)

–ò—Å–ø–æ–ª—å–∑—É–µ–º **shadcn/ui** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ):

- `Button` - –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- `Card` - –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –º–µ—Ç—Ä–∏–∫
- `Table` - —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `Tabs` - —Ç–∞–±—ã (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è)
- `Badge` - –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- `Skeleton` - loading skeleton
- `Toast` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `Dialog` - –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞

**–í–∞–∂–Ω–æ**: –ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –≤ `components/ui/` –Ω–∞–ø—Ä—è–º—É—é. –°–æ–∑–¥–∞–µ–º –æ–±–µ—Ä—Ç–∫–∏ –≤ `components/common/` –∏–ª–∏ `components/dashboard/` –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏.

---

## üíª –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

### TypeScript Conventions

#### Strict Mode
```json
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitAny": true,
    "noImplicitThis": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true
  }
}
```

#### Type Hints –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ props
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
interface UserCardProps {
  userId: number
  messageCount: number
  onSelect: (userId: number) => void
}

export function UserCard({ userId, messageCount, onSelect }: UserCardProps): JSX.Element {
  return <div onClick={() => onSelect(userId)}>...</div>
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
export function UserCard({ userId, messageCount, onSelect }) {
  return <div onClick={() => onSelect(userId)}>...</div>
}
```

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è Props
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º interface –¥–ª—è props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
interface ComponentNameProps {
  prop1: string
  prop2?: number  // optional
  onAction: () => void
}

// –ò—Å–ø–æ–ª—å–∑—É–µ–º type –¥–ª—è unions –∏ aliases
type Period = 'day' | 'week' | 'month'
type Status = 'loading' | 'success' | 'error'
```

---

### React Patterns

#### Functional Components
```typescript
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º functional components
export function Dashboard(): JSX.Element {
  const [period, setPeriod] = useState<Period>('week')
  
  return <div>...</div>
}

// ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º class components
class Dashboard extends React.Component {
  render() {
    return <div>...</div>
  }
}
```

#### Custom Hooks
```typescript
// –í—ã–Ω–æ—Å–∏–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ª–æ–≥–∏–∫—É –≤ custom hooks
export function useStats(period: Period) {
  return useQuery({
    queryKey: ['stats', period],
    queryFn: () => apiClient.getStats(period),
  })
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
export function Dashboard() {
  const { data, isLoading, error } = useStats('week')
  
  if (isLoading) return <LoadingSpinner />
  if (error) return <ErrorMessage error={error} />
  
  return <div>...</div>
}
```

#### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º useMemo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const sortedUsers = useMemo(() => {
  return users.sort((a, b) => b.messageCount - a.messageCount)
}, [users])

// –ò—Å–ø–æ–ª—å–∑—É–µ–º useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –≤ –ø—Ä–æ–ø—Å–∞—Ö
const handlePeriodChange = useCallback((period: Period) => {
  setPeriod(period)
}, [])
```

#### Error Boundaries
```typescript
// –°–æ–∑–¥–∞–µ–º Error Boundary –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
import { ErrorBoundary } from 'react-error-boundary'

function ErrorFallback({ error }: { error: Error }) {
  return <ErrorMessage error={error} />
}

export function App() {
  return (
    <ErrorBoundary FallbackComponent={ErrorFallback}>
      <Dashboard />
    </ErrorBoundary>
  )
}
```

---

### Naming Conventions

| –¢–∏–ø | Convention | –ü—Ä–∏–º–µ—Ä—ã |
|-----|-----------|---------|
| **React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** | PascalCase.tsx | `Dashboard.tsx`, `UserCard.tsx`, `PeriodFilter.tsx` |
| **Custom hooks** | camelCase.ts | `useStats.ts`, `usePeriod.ts`, `useAuth.ts` |
| **–£—Ç–∏–ª–∏—Ç—ã** | camelCase.ts | `formatDate.ts`, `calculateDuration.ts`, `api.ts` |
| **–¢–∏–ø—ã/–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** | PascalCase | `interface UserProps`, `type Period` |
| **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** | UPPER_SNAKE_CASE | `API_BASE_URL`, `DEFAULT_PERIOD`, `MAX_RETRIES` |
| **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** | camelCase | `userData`, `isLoading`, `messageCount` |
| **–§—É–Ω–∫—Ü–∏–∏** | camelCase | `fetchStats`, `formatTimestamp`, `handleClick` |

#### –ü—Ä–∏–º–µ—Ä—ã
```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
export function DashboardCard(): JSX.Element { ... }

// Hook
export function useStats(period: Period) { ... }

// –£—Ç–∏–ª–∏—Ç–∞
export function formatDate(date: Date): string { ... }

// –¢–∏–ø
export interface StatsResponse { ... }
export type Period = 'day' | 'week' | 'month'

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞
export const API_BASE_URL = 'http://localhost:8000'

// –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
const isLoading = true
const userData = { id: 1, name: 'John' }

// –§—É–Ω–∫—Ü–∏—è
function handlePeriodChange(period: Period) { ... }
```

---

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è (Tailwind CSS + shadcn/ui)

### Tailwind CSS Conventions

#### Utility-First –ø–æ–¥—Ö–æ–¥
```tsx
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º utility –∫–ª–∞—Å—Å—ã
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow-md">
  <h2 className="text-2xl font-bold text-gray-900">Dashboard</h2>
  <button className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
    Refresh
  </button>
</div>

// ‚ùå –ò–∑–±–µ–≥–∞–µ–º inline styles
<div style={{ display: 'flex', padding: '16px', backgroundColor: 'white' }}>
  <h2 style={{ fontSize: '24px', fontWeight: 'bold' }}>Dashboard</h2>
</div>
```

#### Responsive prefixes
```tsx
<div className="
  grid
  grid-cols-1        // mobile: 1 column
  md:grid-cols-2     // tablet: 2 columns
  lg:grid-cols-3     // desktop: 3 columns
  gap-4
">
  <Card />
  <Card />
  <Card />
</div>
```

#### Dark mode
```tsx
<div className="
  bg-white dark:bg-gray-900
  text-gray-900 dark:text-gray-100
  border border-gray-200 dark:border-gray-700
">
  Content
</div>
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cn()` –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤
```typescript
import { cn } from '@/lib/utils'

<button className={cn(
  'px-4 py-2 rounded',
  isActive && 'bg-blue-500 text-white',
  isDisabled && 'opacity-50 cursor-not-allowed'
)}>
  Button
</button>
```

---

### shadcn/ui Best Practices

#### 1. –ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ `components/ui/`
```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º ui/button.tsx
// components/ui/button.tsx
export function Button() {
  // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É –∑–¥–µ—Å—å
}

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Å–æ–∑–¥–∞–µ–º –æ–±–µ—Ä—Ç–∫—É
// components/common/ActionButton.tsx
import { Button } from '@/components/ui/button'

export function ActionButton({ onClick, children }: ActionButtonProps) {
  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å
  return <Button onClick={onClick}>{children}</Button>
}
```

#### 2. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ props –∏ Tailwind
```tsx
import { Button } from '@/components/ui/button'

// –ò—Å–ø–æ–ª—å–∑—É–µ–º variant –∏ size –∏–∑ shadcn/ui
<Button variant="outline" size="lg">
  Click me
</Button>

// –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ Tailwind –∫–ª–∞—Å—Å—ã
<Button className="bg-gradient-to-r from-blue-500 to-purple-500">
  Gradient Button
</Button>
```

#### 3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```tsx
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

<Card>
  <CardHeader>
    <CardTitle>Total Users</CardTitle>
  </CardHeader>
  <CardContent>
    <p className="text-4xl font-bold">1,234</p>
  </CardContent>
</Card>
```

---

### Color Palette

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞
```css
/* Tailwind config */
colors: {
  primary: colors.slate,   /* –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ –≥—Ä–∞–Ω–∏—Ü */
  accent: colors.blue,     /* –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  success: colors.green,   /* –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π */
  warning: colors.yellow,  /* –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π */
  error: colors.red,       /* –¥–ª—è –æ—à–∏–±–æ–∫ */
}
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```tsx
// Primary (slate)
<p className="text-slate-900 dark:text-slate-100">Text</p>

// Accent (blue)
<button className="bg-blue-500 hover:bg-blue-600 text-white">Button</button>

// Success (green)
<div className="bg-green-50 border-green-500 text-green-700">Success message</div>

// Warning (yellow)
<div className="bg-yellow-50 border-yellow-500 text-yellow-700">Warning message</div>

// Error (red)
<div className="bg-red-50 border-red-500 text-red-700">Error message</div>
```

#### Dark/Light themes
```tsx
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º —á–µ—Ä–µ–∑ Tailwind dark: –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
<div className="bg-white dark:bg-gray-900">
  <h1 className="text-gray-900 dark:text-gray-100">Title</h1>
  <p className="text-gray-600 dark:text-gray-400">Description</p>
</div>
```

---

## üß≠ Routing –∏ Navigation

### Next.js App Router

#### File-based routing
```
app/
‚îú‚îÄ‚îÄ layout.tsx           # Root layout –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ page.tsx             # / (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îú‚îÄ‚îÄ chat/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx         # /chat
‚îî‚îÄ‚îÄ settings/
    ‚îî‚îÄ‚îÄ page.tsx         # /settings
```

#### Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```tsx
// app/page.tsx - Server Component –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
export default function DashboardPage() {
  return <Dashboard />
}
```

#### Client Components —Å –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `'use client'`
```tsx
// components/dashboard/PeriodFilter.tsx
'use client'

import { useState } from 'react'

export function PeriodFilter() {
  const [period, setPeriod] = useState<Period>('week')
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º client-side hooks
  return <div>...</div>
}
```

#### Layouts –¥–ª—è –æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```tsx
// app/layout.tsx
import { Header } from '@/components/layout/Header'
import { Footer } from '@/components/layout/Footer'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ru">
      <body>
        <div className="flex min-h-screen flex-col">
          <Header />
          <main className="flex-1">{children}</main>
          <Footer />
        </div>
      </body>
    </html>
  )
}
```

---

### Navigation

#### next/link –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
```tsx
import Link from 'next/link'

<Link href="/chat" className="text-blue-500 hover:underline">
  Go to Chat
</Link>
```

#### useRouter –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```tsx
'use client'

import { useRouter } from 'next/navigation'

export function Dashboard() {
  const router = useRouter()
  
  const handleNavigate = () => {
    router.push('/chat')
  }
  
  return <button onClick={handleNavigate}>Go to Chat</button>
}
```

#### usePathname –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```tsx
'use client'

import { usePathname } from 'next/navigation'

export function Header() {
  const pathname = usePathname()
  
  return (
    <nav>
      <Link 
        href="/" 
        className={pathname === '/' ? 'active' : ''}
      >
        Dashboard
      </Link>
      <Link 
        href="/chat" 
        className={pathname === '/chat' ? 'active' : ''}
      >
        Chat
      </Link>
    </nav>
  )
}
```

---

## üîÑ State Management

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

| –¢–∏–ø —Å–æ—Å—Ç–æ—è–Ω–∏—è | –†–µ—à–µ–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|---------------|---------|---------------|
| **Server State** | TanStack Query (React Query) | –î–∞–Ω–Ω—ã–µ –∏–∑ API, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, auto-refetch |
| **Client State** | React Hooks (useState, useReducer) | UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ñ–æ—Ä–º—ã, –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| **Global State** | Zustand (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | Shared state –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ |

---

### Server State: React Query

#### Setup
```tsx
// app/providers.tsx
'use client'

import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { useState } from 'react'

export function Providers({ children }: { children: React.ReactNode }) {
  const [queryClient] = useState(() => new QueryClient({
    defaultOptions: {
      queries: {
        staleTime: 1000 * 60 * 5,     // 5 –º–∏–Ω—É—Ç
        refetchInterval: 1000 * 60,   // 1 –º–∏–Ω—É—Ç–∞
        retry: 3,                      // 3 –ø–æ–ø—ã—Ç–∫–∏
      },
    },
  }))

  return (
    <QueryClientProvider client={queryClient}>
      {children}
    </QueryClientProvider>
  )
}
```

#### Custom Hook –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```tsx
// lib/hooks/useStats.ts
import { useQuery } from '@tanstack/react-query'
import { apiClient } from '@/lib/api'
import { Period, StatsResponse } from '@/types/api'

export function useStats(period: Period) {
  return useQuery<StatsResponse>({
    queryKey: ['stats', period],
    queryFn: () => apiClient.getStats(period),
    staleTime: 1000 * 60 * 5,     // –î–∞–Ω–Ω—ã–µ —Å–≤–µ–∂–∏–µ 5 –º–∏–Ω—É—Ç
    refetchInterval: 1000 * 60,   // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  })
}
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```tsx
// components/dashboard/Dashboard.tsx
'use client'

import { useStats } from '@/lib/hooks/useStats'

export function Dashboard() {
  const [period, setPeriod] = useState<Period>('week')
  const { data, isLoading, error, refetch } = useStats(period)

  if (isLoading) return <LoadingSpinner />
  if (error) return <ErrorMessage error={error} onRetry={refetch} />
  if (!data) return <EmptyState />

  return (
    <div>
      <PeriodFilter period={period} onPeriodChange={setPeriod} />
      <SummaryCards summary={data.summary} />
      <ActivityChart data={data.activity_timeline} />
      <RecentDialogsTable dialogs={data.recent_dialogs} />
      <TopUsersTable users={data.top_users} />
    </div>
  )
}
```

---

### Client State: React Hooks

#### useState –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```tsx
export function PeriodFilter() {
  const [period, setPeriod] = useState<Period>('week')
  
  return (
    <div>
      <button onClick={() => setPeriod('day')}>Day</button>
      <button onClick={() => setPeriod('week')}>Week</button>
      <button onClick={() => setPeriod('month')}>Month</button>
    </div>
  )
}
```

#### useReducer –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```tsx
type State = {
  period: Period
  filters: Filters
  sortOrder: SortOrder
}

type Action = 
  | { type: 'SET_PERIOD'; payload: Period }
  | { type: 'SET_FILTERS'; payload: Filters }
  | { type: 'SET_SORT_ORDER'; payload: SortOrder }

function reducer(state: State, action: Action): State {
  switch (action.type) {
    case 'SET_PERIOD':
      return { ...state, period: action.payload }
    case 'SET_FILTERS':
      return { ...state, filters: action.payload }
    case 'SET_SORT_ORDER':
      return { ...state, sortOrder: action.payload }
    default:
      return state
  }
}

export function Dashboard() {
  const [state, dispatch] = useReducer(reducer, initialState)
  // ...
}
```

---

### Global State: Zustand (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```tsx
// lib/store.ts
import { create } from 'zustand'

interface AppState {
  theme: 'light' | 'dark'
  setTheme: (theme: 'light' | 'dark') => void
}

export const useAppStore = create<AppState>((set) => ({
  theme: 'light',
  setTheme: (theme) => set({ theme }),
}))

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
export function ThemeToggle() {
  const { theme, setTheme } = useAppStore()
  
  return (
    <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
      Toggle Theme
    </button>
  )
}
```

---

## üåê Data Fetching –∏ API Integration

### API Client

```typescript
// lib/api.ts
import axios, { AxiosInstance, AxiosError } from 'axios'
import { apiConfig } from '@/config/api'
import { StatsResponse, Period } from '@/types/api'

class ApiClient {
  private client: AxiosInstance

  constructor() {
    this.client = axios.create({
      baseURL: apiConfig.baseUrl,
      timeout: apiConfig.timeout,
      headers: {
        'Content-Type': 'application/json',
      },
    })

    // Request interceptor
    this.client.interceptors.request.use(
      (config) => {
        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ dev —Ä–µ–∂–∏–º–µ
        if (process.env.NODE_ENV === 'development') {
          console.log(`[API Request] ${config.method?.toUpperCase()} ${config.url}`)
        }
        return config
      },
      (error) => Promise.reject(error)
    )

    // Response interceptor
    this.client.interceptors.response.use(
      (response) => response,
      (error: AxiosError) => {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        if (error.response) {
          console.error(`[API Error] ${error.response.status}: ${error.response.statusText}`)
        } else if (error.request) {
          console.error('[API Error] No response received')
        } else {
          console.error(`[API Error] ${error.message}`)
        }
        return Promise.reject(error)
      }
    )
  }

  /**
   * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–∏–∞–ª–æ–≥–æ–≤ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
   */
  async getStats(period: Period): Promise<StatsResponse> {
    const response = await this.client.get<StatsResponse>(
      apiConfig.endpoints.stats,
      {
        params: { period },
      }
    )
    return response.data
  }

  /**
   * Health check endpoint
   */
  async healthCheck(): Promise<{ status: string }> {
    const response = await this.client.get(apiConfig.endpoints.health)
    return response.data
  }
}

export const apiClient = new ApiClient()
```

---

### Configuration

```typescript
// config/api.ts
export const apiConfig = {
  baseUrl: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000',
  timeout: 10000, // 10 seconds
  endpoints: {
    stats: '/stats',
    health: '/health',
  },
}

export type ApiConfig = typeof apiConfig
```

---

### Custom Hooks

```typescript
// lib/hooks/useStats.ts
import { useQuery, UseQueryResult } from '@tanstack/react-query'
import { apiClient } from '@/lib/api'
import { Period, StatsResponse } from '@/types/api'

export function useStats(period: Period): UseQueryResult<StatsResponse> {
  return useQuery({
    queryKey: ['stats', period],
    queryFn: () => apiClient.getStats(period),
    staleTime: 1000 * 60 * 5,     // 5 –º–∏–Ω—É—Ç
    refetchInterval: 1000 * 60,   // 1 –º–∏–Ω—É—Ç–∞
    retry: 3,                      // 3 –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),
  })
}
```

---

### API Types

```typescript
// types/api.ts
export interface Summary {
  total_users: number
  total_messages: number
  active_dialogs: number
}

export interface ActivityPoint {
  timestamp: string
  message_count: number
  active_users: number
}

export interface RecentDialog {
  user_id: number
  message_count: number
  last_message_at: string
  duration_minutes: number
}

export interface TopUser {
  user_id: number
  total_messages: number
  dialog_count: number
  last_activity: string
}

export interface StatsResponse {
  summary: Summary
  activity_timeline: ActivityPoint[]
  recent_dialogs: RecentDialog[]
  top_users: TopUser[]
}

export type Period = 'day' | 'week' | 'month'
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Testing Stack

- **Framework**: Vitest (–±—ã—Å—Ç—Ä–µ–µ Jest, native ESM)
- **UI Testing**: Testing Library (React Testing Library)
- **Mocking**: Vitest built-in mocks
- **Coverage**: Vitest coverage (v8)

---

### Unit Tests (Vitest)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç
```typescript
// lib/utils.test.ts
import { describe, it, expect } from 'vitest'
import { cn, formatDate, formatDuration } from './utils'

describe('cn utility', () => {
  it('should combine class names', () => {
    expect(cn('foo', 'bar')).toBe('foo bar')
  })

  it('should handle conditional classes', () => {
    expect(cn('foo', false && 'bar', 'baz')).toBe('foo baz')
  })
})

describe('formatDate', () => {
  it('should format date correctly', () => {
    const date = new Date('2025-10-17T10:00:00Z')
    expect(formatDate(date)).toBe('Oct 17, 2025')
  })
})
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ hooks
```typescript
// lib/hooks/useStats.test.ts
import { describe, it, expect, vi } from 'vitest'
import { renderHook, waitFor } from '@testing-library/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { useStats } from './useStats'
import { apiClient } from '@/lib/api'

vi.mock('@/lib/api')

describe('useStats hook', () => {
  it('should fetch stats successfully', async () => {
    const mockData = { summary: { total_users: 100 } }
    vi.mocked(apiClient.getStats).mockResolvedValue(mockData)

    const queryClient = new QueryClient()
    const wrapper = ({ children }) => (
      <QueryClientProvider client={queryClient}>
        {children}
      </QueryClientProvider>
    )

    const { result } = renderHook(() => useStats('week'), { wrapper })

    await waitFor(() => expect(result.current.isSuccess).toBe(true))
    expect(result.current.data).toEqual(mockData)
  })
})
```

---

### Integration Tests (Testing Library)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
// components/dashboard/PeriodFilter.test.tsx
import { describe, it, expect, vi } from 'vitest'
import { render, screen, fireEvent } from '@testing-library/react'
import { PeriodFilter } from './PeriodFilter'

describe('PeriodFilter', () => {
  it('should render all period buttons', () => {
    const onPeriodChange = vi.fn()
    render(<PeriodFilter period="week" onPeriodChange={onPeriodChange} />)

    expect(screen.getByText('Day')).toBeInTheDocument()
    expect(screen.getByText('Week')).toBeInTheDocument()
    expect(screen.getByText('Month')).toBeInTheDocument()
  })

  it('should call onPeriodChange when button is clicked', () => {
    const onPeriodChange = vi.fn()
    render(<PeriodFilter period="week" onPeriodChange={onPeriodChange} />)

    fireEvent.click(screen.getByText('Day'))
    expect(onPeriodChange).toHaveBeenCalledWith('day')
  })

  it('should highlight active period', () => {
    const onPeriodChange = vi.fn()
    render(<PeriodFilter period="week" onPeriodChange={onPeriodChange} />)

    const weekButton = screen.getByText('Week')
    expect(weekButton).toHaveClass('active')
  })
})
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ data fetching
```typescript
// components/dashboard/Dashboard.test.tsx
import { describe, it, expect, vi } from 'vitest'
import { render, screen, waitFor } from '@testing-library/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { Dashboard } from './Dashboard'
import { apiClient } from '@/lib/api'

vi.mock('@/lib/api')

describe('Dashboard', () => {
  it('should show loading state', () => {
    render(
      <QueryClientProvider client={new QueryClient()}>
        <Dashboard />
      </QueryClientProvider>
    )

    expect(screen.getByTestId('loading-spinner')).toBeInTheDocument()
  })

  it('should display stats after loading', async () => {
    const mockData = {
      summary: {
        total_users: 100,
        total_messages: 500,
        active_dialogs: 50,
      },
      activity_timeline: [],
      recent_dialogs: [],
      top_users: [],
    }

    vi.mocked(apiClient.getStats).mockResolvedValue(mockData)

    render(
      <QueryClientProvider client={new QueryClient()}>
        <Dashboard />
      </QueryClientProvider>
    )

    await waitFor(() => {
      expect(screen.getByText('100')).toBeInTheDocument()
      expect(screen.getByText('500')).toBeInTheDocument()
      expect(screen.getByText('50')).toBeInTheDocument()
    })
  })
})
```

---

### Coverage Target

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π coverage**: >= 80%

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã**:
1. **–ö—Ä–∏—Ç–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞**: 100% (API client, custom hooks)
2. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: >= 80%
3. **–£—Ç–∏–ª–∏—Ç—ã**: 100%

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
npm test                 # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run test:ui         # UI –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (Vitest UI)
npm run test:coverage   # –° coverage –æ—Ç—á–µ—Ç–æ–º
```

---

## ‚ö° Performance Best Practices

### 1. Next.js Image Optimization
```tsx
import Image from 'next/image'

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º next/image
<Image
  src="/images/logo.png"
  alt="Logo"
  width={200}
  height={100}
  priority // –¥–ª—è LCP –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
/>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –æ–±—ã—á–Ω—ã–π img
<img src="/images/logo.png" alt="Logo" />
```

---

### 2. Lazy Loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```tsx
import { lazy, Suspense } from 'react'

// Lazy load —Ç—è–∂–µ–ª–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const ActivityChart = lazy(() => import('./ActivityChart'))

export function Dashboard() {
  return (
    <div>
      <Suspense fallback={<Skeleton />}>
        <ActivityChart data={data} />
      </Suspense>
    </div>
  )
}
```

---

### 3. Code Splitting —á–µ—Ä–µ–∑ dynamic imports
```tsx
import dynamic from 'next/dynamic'

// Dynamic import —Å loading state
const ActivityChart = dynamic(() => import('./ActivityChart'), {
  loading: () => <Skeleton />,
  ssr: false, // –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
})

export function Dashboard() {
  return <ActivityChart data={data} />
}
```

---

### 4. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
```tsx
import { useMemo } from 'react'

export function TopUsersTable({ users }: TopUsersTableProps) {
  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
  const sortedUsers = useMemo(() => {
    return [...users].sort((a, b) => b.total_messages - a.total_messages)
  }, [users])

  return <Table data={sortedUsers} />
}
```

---

### 5. Debounce –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å–æ–±—ã—Ç–∏–π
```tsx
import { useDebouncedCallback } from 'use-debounce'

export function SearchInput() {
  const handleSearch = useDebouncedCallback((query: string) => {
    // –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ 300ms —Ç–∏—à–∏–Ω—ã
    performSearch(query)
  }, 300)

  return <input onChange={(e) => handleSearch(e.target.value)} />
}
```

---

### 6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size
```json
// next.config.js
module.exports = {
  webpack: (config) => {
    config.optimization.splitChunks = {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: 'vendors',
          priority: 10,
        },
      },
    }
    return config
  },
}
```

---

## ‚ôø Accessibility (a11y)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è WCAG 2.1 AA

#### 1. Semantic HTML
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - semantic HTML
<header>
  <nav>
    <ul>
      <li><a href="/">Dashboard</a></li>
      <li><a href="/chat">Chat</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>Dashboard</h1>
  <section aria-label="Statistics">
    <h2>Summary</h2>
    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
  </section>
</main>

<footer>
  <p>¬© 2025 AI Telegram Bot</p>
</footer>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Ç–æ–ª—å–∫–æ divs
<div className="header">
  <div className="nav">
    <div><a href="/">Dashboard</a></div>
  </div>
</div>
```

---

#### 2. ARIA Attributes
```tsx
// ARIA labels –¥–ª—è screen readers
<button aria-label="Close dialog" onClick={handleClose}>
  <XIcon />
</button>

// ARIA –¥–ª—è —Ç–∞–±–ª–∏—Ü
<table aria-label="Top users" role="table">
  <thead>
    <tr>
      <th scope="col">User ID</th>
      <th scope="col">Messages</th>
    </tr>
  </thead>
</table>

// ARIA –¥–ª—è loading states
<div aria-live="polite" aria-busy={isLoading}>
  {isLoading ? 'Loading...' : 'Loaded'}
</div>
```

---

#### 3. Keyboard Navigation
```tsx
export function PeriodFilter() {
  return (
    <div role="group" aria-label="Period filter">
      <button
        onClick={() => setPeriod('day')}
        onKeyDown={(e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            setPeriod('day')
          }
        }}
        aria-pressed={period === 'day'}
      >
        Day
      </button>
      {/* –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */}
    </div>
  )
}
```

---

#### 4. Focus Management
```tsx
import { useEffect, useRef } from 'react'

export function Dialog({ isOpen }: DialogProps) {
  const dialogRef = useRef<HTMLDivElement>(null)

  useEffect(() => {
    if (isOpen && dialogRef.current) {
      // –§–æ–∫—É—Å –Ω–∞ –¥–∏–∞–ª–æ–≥ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
      dialogRef.current.focus()
    }
  }, [isOpen])

  return (
    <div
      ref={dialogRef}
      role="dialog"
      aria-modal="true"
      tabIndex={-1}
    >
      {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
    </div>
  )
}
```

---

#### 5. Alt Text –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–π alt
<Image
  src="/images/chart.png"
  alt="Line chart showing message activity over the last 7 days"
  width={800}
  height={400}
/>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—É—Å—Ç–æ–π –∏–ª–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π alt
<img src="/images/chart.png" alt="chart" />
<img src="/images/chart.png" alt="" /> // –¢–æ–ª—å–∫–æ –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

---

#### 6. –¶–≤–µ—Ç–æ–≤–æ–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç (WCAG AA: 4.5:1)
<p className="text-gray-900 bg-white">High contrast text</p>

// ‚úÖ –î–ª—è –∫—Ä—É–ø–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (18px+): 3:1
<h1 className="text-gray-800 bg-white text-3xl">Large heading</h1>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
<p className="text-gray-400 bg-gray-300">Low contrast text</p>
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏**:
- Chrome DevTools Lighthouse (Accessibility audit)
- axe DevTools browser extension
- WAVE browser extension

---

## üöÄ CI/CD –¥–ª—è Frontend

### GitHub Actions Workflow

```yaml
# .github/workflows/frontend-ci.yml
name: Frontend CI

on:
  push:
    branches: [main, develop]
    paths:
      - 'frontend/**'
  pull_request:
    branches: [main, develop]
    paths:
      - 'frontend/**'

jobs:
  lint-and-test:
    runs-on: ubuntu-latest
    
    defaults:
      run:
        working-directory: frontend

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
          cache-dependency-path: frontend/package-lock.json

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint

      - name: Check TypeScript types
        run: npm run type-check

      - name: Run tests
        run: npm test

      - name: Build
        run: npm run build

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          directory: frontend/coverage

  build-docker:
    runs-on: ubuntu-latest
    needs: lint-and-test
    if: github.ref == 'refs/heads/main'

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Build Docker image
        run: |
          cd frontend
          docker build -t ai-tg-bot-frontend:latest .

      - name: Push to registry
        run: |
          # Push to Docker registry
          echo "Push to registry"
```

---

### Pre-commit Hooks (Husky + lint-staged)

```json
// package.json
{
  "scripts": {
    "prepare": "husky install",
    "lint": "eslint . --ext .ts,.tsx",
    "format": "prettier --write \"**/*.{ts,tsx,json,css,md}\"",
    "type-check": "tsc --noEmit"
  },
  "lint-staged": {
    "*.{ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,css,md}": [
      "prettier --write"
    ]
  }
}
```

```bash
# .husky/pre-commit
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

cd frontend && npx lint-staged
```

---

## üìä –î–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
graph TD
    A[App Layout] --> B[Header]
    A --> C[Dashboard Page]
    A --> D[Footer]
    
    C --> E[PeriodFilter]
    C --> F[SummaryCards]
    C --> G[ActivityChart]
    C --> H[RecentDialogsTable]
    C --> I[TopUsersTable]
    
    F --> F1[Card: Total Users]
    F --> F2[Card: Total Messages]
    F --> F3[Card: Active Dialogs]
    
    style A fill:#e1f5ff
    style C fill:#fff3e0
    style E fill:#f3e5f5
    style F fill:#e8f5e9
    style G fill:#fce4ec
    style H fill:#fff9c4
    style I fill:#e0f2f1
```

---

### Data Flow

```mermaid
sequenceDiagram
    participant User
    participant Dashboard
    participant useStats
    participant ApiClient
    participant Backend

    User->>Dashboard: –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
    Dashboard->>useStats: –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (period='week')
    useStats->>ApiClient: getStats('week')
    ApiClient->>Backend: GET /stats?period=week
    Backend-->>ApiClient: StatsResponse JSON
    ApiClient-->>useStats: Parsed data
    useStats-->>Dashboard: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    Dashboard-->>User: –ü–æ–∫–∞–∑–∞—Ç—å –¥–∞—à–±–æ—Ä–¥
    
    Note over User,Dashboard: Auto-refetch –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
    
    loop Every 60 seconds
        useStats->>ApiClient: getStats('week')
        ApiClient->>Backend: GET /stats?period=week
        Backend-->>ApiClient: StatsResponse JSON
        ApiClient-->>useStats: Updated data
        useStats-->>Dashboard: –û–±–Ω–æ–≤–∏—Ç—å UI
    end
```

---

### API Integration Flow

```mermaid
graph LR
    A[Dashboard Component] --> B[useStats Hook]
    B --> C[React Query]
    C --> D[ApiClient]
    D --> E[Backend API]
    E --> F[Mock Collector]
    
    C -.Cache.-> G[(Query Cache)]
    G -.Stale after 5 min.-> C
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#fff3e0
    style D fill:#e8f5e9
    style E fill:#fce4ec
    style F fill:#fff9c4
    style G fill:#ffebee
```

---

### Component Hierarchy

```mermaid
graph TD
    Root[App Root] --> Providers[Providers: React Query]
    Providers --> Layout[Root Layout]
    
    Layout --> Header[Header]
    Layout --> Main[Main Content]
    Layout --> Footer[Footer]
    
    Main --> DashboardPage[Dashboard Page]
    
    DashboardPage --> PeriodFilter[Period Filter]
    DashboardPage --> Stats[Stats Section]
    DashboardPage --> Charts[Charts Section]
    DashboardPage --> Tables[Tables Section]
    
    Stats --> Card1[Total Users Card]
    Stats --> Card2[Total Messages Card]
    Stats --> Card3[Active Dialogs Card]
    
    Charts --> ActivityChart[Activity Chart]
    
    Tables --> RecentDialogs[Recent Dialogs Table]
    Tables --> TopUsers[Top Users Table]
    
    style Root fill:#e1f5ff
    style Providers fill:#f3e5f5
    style Layout fill:#fff3e0
    style DashboardPage fill:#e8f5e9
    style Stats fill:#fce4ec
    style Charts fill:#fff9c4
    style Tables fill:#e0f2f1
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Dashboard Requirements](./dashboard-requirements.md) - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞—à–±–æ—Ä–¥—É
- [API Contract](../backend/api/stats-api-contract.md) - REST API –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [Vision](../vision.md) - –æ–±—â–µ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (backend)
- [Roadmap](../roadmap.md) - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

---

## üîÑ Changelog

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-----------|
| 1.0 | 2025-10-17 | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–Ω–∏—è frontend –¥–ª—è –°–ø—Ä–∏–Ω—Ç–∞ S4 |

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫:

1. **–ë–ª–æ–∫ 2**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Next.js –ø—Ä–æ–µ–∫—Ç–∞ —Å npm
2. **–ë–ª–æ–∫ 3**: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±–∞–∑–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
3. **–ë–ª–æ–∫ 4**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (ESLint, Prettier)
4. **–ë–ª–æ–∫ 5**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Vitest + Testing Library)
5. **–ë–ª–æ–∫ 6**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Makefile, Docker)

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-10-17

