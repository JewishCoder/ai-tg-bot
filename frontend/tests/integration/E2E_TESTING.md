# üß™ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Dashboard

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

Playwright —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –±—Ä–∞—É–∑–µ—Ä—ã:

```bash
npx playwright install
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 1. **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (`test-dashboard.js`)

–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã: —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞, —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã.

```bash
node tests/integration/test-dashboard.js
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Header –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ 3 Summary Cards
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ Period Filter
- ‚úÖ Sidebar —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–î–µ–Ω—å/–ù–µ–¥–µ–ª—è/–ú–µ—Å—è—Ü)
- ‚úÖ –†–∞—Å–∫—Ä—ã—Ç–∏–µ —Ç–∞–±–ª–∏—Ü (–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∏, –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–ª–æ–π/—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ–Ω–∞ –∏ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—ã–≤–æ–¥–∏—Ç –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö/–ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö
- –°–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã: `dashboard-light-auto.png`, `dashboard-dark-auto.png`

---

### 2. **–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º—ã** (`test-dashboard-quick.js`)

–ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã.

```bash
node tests/integration/test-dashboard-quick.js
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É
- –ù–∞–ª–∏—á–∏–µ –∫–ª–∞—Å—Å–∞ `.dark` –Ω–∞ `<html>`
- –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∏ —Ç–µ–∫—Å—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—ã–≤–æ–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞
- –°–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç: `dark-theme-check.png`

---

## –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º:

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
npm run dev

# 2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã (–∏–∑ –ø–∞–ø–∫–∏ frontend)
node tests/integration/test-dashboard.js
```

---

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω** –Ω–∞ `http://localhost:3000`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≥–¥–µ –∏–º–µ–Ω–Ω–æ –æ—à–∏–±–∫–∞
3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã** - –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç —Ç–µ—Å—Ç–∞
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –Ω–µ-headless —Ä–µ–∂–∏–º–µ** - —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `test-dashboard.js` (`headless: false`)

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –°–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–í `test-dashboard.js` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å:

```javascript
const browser = await chromium.launch({ 
  headless: false, 
  slowMo: 500  // –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º—Å –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (500 = –º–µ–¥–ª–µ–Ω–Ω–æ, 0 = –±—ã—Å—Ç—Ä–æ)
});
```

### Headless —Ä–µ–∂–∏–º

–î–ª—è CI/CD –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å headless —Ä–µ–∂–∏–º:

```javascript
const browser = await chromium.launch({ headless: true });
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å package.json

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –≤ `package.json`:

```json
{
  "scripts": {
    "test:e2e": "node tests/integration/test-dashboard.js",
    "test:theme": "node tests/integration/test-dashboard-quick.js"
  }
}
```

–¢–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ:

```bash
npm run test:e2e
npm run test:theme
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "Executable doesn't exist"

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright:

```bash
npx playwright install
```

### –û—à–∏–±–∫–∞: "page.goto: net::ERR_CONNECTION_REFUSED"

Dev —Å–µ—Ä–≤–µ—Ä Next.js –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm run dev
```

### –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –Ω–æ —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
node tests/integration/test-dashboard-quick.js
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ - –æ–Ω –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ç–∞–∫ —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

